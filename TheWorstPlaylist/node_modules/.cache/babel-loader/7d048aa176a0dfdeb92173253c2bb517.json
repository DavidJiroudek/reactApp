{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\MyPreciousDesktop\\\\Desktop\\\\todolist\\\\src\\\\Players.js\",\n    _s = $RefreshSig$();\n\nimport getYouTubeID from \"get-youtube-id\";\nimport { useEffect, useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport YouTube from \"react-youtube\";\nimport { updateUrl } from \"./redux/reducers/activeUrlReducer\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Players = () => {\n  _s();\n\n  const song = useSelector(state => state.activeUrl.value);\n  const songList = useSelector(state => state.songStore.value);\n  const dispatch = useDispatch();\n  const [playedSongs, setPlayedSongs] = useState([]);\n\n  if (song.source === false) {\n    const opts = {\n      height: '390',\n      width: '640',\n      playerVars: {\n        // https://developers.google.com/youtube/player_parameters\n        autoplay: 1\n      }\n    };\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        margin: \"0 auto\",\n        width: \"640px\",\n        alignItems: \"center\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(YouTube, {\n        videoId: getYouTubeID(song.url),\n        opts: opts,\n        onEnd: () => loadNextSong(songList, dispatch)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 24,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        style: {\n          margin: \" 20px 48%\",\n          width: \"60px\",\n          height: \"30px\"\n        },\n        onClick: () => loadNextSong(songList, dispatch, playedSongs, setPlayedSongs),\n        children: \"Dal\\u0161\\xED\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 25,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 23,\n      columnNumber: 12\n    }, this);\n  } else {\n    //spotify je kravina a nejde u něj nastavit pořádně autoplay a onEnd event jako u youtube proto se u něj musí klikat\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"iframe\", {\n        id: \"spotifyPlayer\",\n        style: {\n          borderRadius: \"12px\"\n        },\n        src: \"https://open.spotify.com/embed/track/\" + song.url.match('(?<=\\\\/).{22}(?=\\\\?)') + \"?utm_source=generator\",\n        width: \"100%\",\n        height: \"380\",\n        frameBorder: \"0\",\n        allowFullScreen: \"\",\n        autoPlay: \"1\",\n        allow: \"autoplay; clipboard-write; encrypted-media; fullscreen; picture-in-picture\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 31,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        style: {\n          margin: \" 20px 48%\",\n          width: \"60px\",\n          height: \"30px\"\n        },\n        onClick: () => loadNextSong(songList, dispatch, playedSongs, setPlayedSongs),\n        children: \"Dal\\u0161\\xED\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 32,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 12\n    }, this);\n  }\n};\n\n_s(Players, \"RH2jEMtO43Iu+sDgCVHOOUivIag=\", false, function () {\n  return [useSelector, useSelector, useDispatch];\n});\n\n_c = Players;\n\nconst loadNextSong = (songList, dispatch, playedSongs, setPlayedSongs) => {\n  let randomNumber = Math.floor(Math.random() * songList.length);\n  let i = 0;\n  console.log(playedSongs);\n\n  while (playedSongs.includes(randomNumber)) {\n    randomNumber = Math.floor(Math.random() * songList.length);\n    i++;\n\n    if (i >= 10) {\n      setPlayedSongs([]);\n      playedSongs = [];\n    }\n  }\n\n  setPlayedSongs([...playedSongs, randomNumber]);\n  const randomSong = songList[randomNumber];\n  dispatch(updateUrl({\n    url: randomSong.url,\n    source: randomSong.source\n  }));\n};\n\nexport default Players;\n\nvar _c;\n\n$RefreshReg$(_c, \"Players\");","map":{"version":3,"sources":["C:/Users/MyPreciousDesktop/Desktop/todolist/src/Players.js"],"names":["getYouTubeID","useEffect","useState","useDispatch","useSelector","YouTube","updateUrl","Players","song","state","activeUrl","value","songList","songStore","dispatch","playedSongs","setPlayedSongs","source","opts","height","width","playerVars","autoplay","margin","alignItems","url","loadNextSong","borderRadius","match","randomNumber","Math","floor","random","length","i","console","log","includes","randomSong"],"mappings":"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","sourcesContent":["import getYouTubeID from \"get-youtube-id\";\r\nimport { useEffect, useState } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport YouTube from \"react-youtube\"\r\nimport { updateUrl } from \"./redux/reducers/activeUrlReducer\";\r\n\r\nconst Players = () => {\r\n    const song = useSelector((state) => state.activeUrl.value)\r\n    const songList = useSelector((state) => state.songStore.value)\r\n    const dispatch = useDispatch()\r\n    const [playedSongs, setPlayedSongs] = useState([])\r\n\r\n\r\n    if(song.source === false){\r\n    const opts = {\r\n        height: '390',\r\n        width: '640',\r\n        playerVars: {\r\n          // https://developers.google.com/youtube/player_parameters\r\n          autoplay: 1,\r\n        },\r\n      };\r\n    return(<div style={{margin:\"0 auto\", width:\"640px\", alignItems:\"center\"}}>\r\n        <YouTube videoId={getYouTubeID(song.url)} opts={opts} onEnd={()=>loadNextSong(songList, dispatch)} />\r\n        <button style={{margin:\" 20px 48%\", width:\"60px\", height:\"30px\"}} onClick={()=>loadNextSong(songList, dispatch, playedSongs, setPlayedSongs)}>Další</button>\r\n        </div>)\r\n    }else{\r\n\r\n      //spotify je kravina a nejde u něj nastavit pořádně autoplay a onEnd event jako u youtube proto se u něj musí klikat\r\n    return(<div>\r\n      <iframe id=\"spotifyPlayer\" style={{borderRadius:\"12px\"}} src={\"https://open.spotify.com/embed/track/\" + song.url.match('(?<=\\\\/).{22}(?=\\\\?)') + \"?utm_source=generator\"} width=\"100%\" height=\"380\" frameBorder=\"0\" allowFullScreen=\"\" autoPlay=\"1\" allow=\"autoplay; clipboard-write; encrypted-media; fullscreen; picture-in-picture\"></iframe>\r\n            <button style={{margin:\" 20px 48%\", width:\"60px\", height:\"30px\"}} onClick={()=>loadNextSong(songList, dispatch, playedSongs, setPlayedSongs)}>Další</button>\r\n            \r\n          </div>\r\n    )\r\n    }\r\n}\r\nconst loadNextSong = (songList, dispatch, playedSongs, setPlayedSongs) =>{\r\n  let randomNumber = Math.floor(Math.random() * songList.length)\r\n  let i = 0;\r\n  console.log(playedSongs)\r\n  while (playedSongs.includes(randomNumber)){\r\n    randomNumber = Math.floor(Math.random() * songList.length)\r\n    i++;\r\n    if(i>=10){\r\n      setPlayedSongs([])\r\n      playedSongs = []\r\n    }\r\n  }\r\n\r\n    setPlayedSongs([...playedSongs, randomNumber])\r\n\r\n\r\n\r\n    const randomSong = songList[randomNumber]\r\n    dispatch(updateUrl({url:randomSong.url, source: randomSong.source}))\r\n  }\r\n\r\n\r\n\r\n export default Players\r\n"]},"metadata":{},"sourceType":"module"}